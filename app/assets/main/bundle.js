!function(e){function t(t){for(var a,i,l=t[0],u=t[1],s=t[2],d=0,p=[];d<l.length;d++)i=l[d],r[i]&&p.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={1:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=u;o.push([592,0]),n()}({162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(103),o=n(212);var i={status:"LOGGED_OUT",user:{}},l={title:"",description:""},u=(Date.now().toString(36),r.combineReducers({authentication:function(e,t){switch(void 0===e&&(e=i),t.type){case"LOGIN_SUCCESS":case"LOGIN_PENDING":case"LOGIN_FAILED":case"LOGGED_OUT":return t.payload;default:return e}},brandName:function(){return"Survey Test Sites"},searchTerm:function(e,t){return void 0===e&&(e=""),t.type===o.SET_SEARCH_TERM?t.searchTerm:e},recentForms:function(e,t){switch(void 0===e&&(e=[]),t.type){case o.FETCH_RECENT_FORMS:return a.__spread(t.recentForms)||e;case"REMOVE_FORM_BY_ID":return e.filter(function(e){return e.id!==t.id});default:return e}},formInfo:function(e,t){var n;switch(void 0===e&&(e=l),t.type){case o.FETCH_FORM_DATA_BY_ID:return a.__assign({},e,t.formInfo);case"CREATE_NEW_FORM":return l;case o.UPDATE_FORM_INFO:return a.__assign({},e,((n={})[t.k]=t.v,n));case"LOGGED_OUT":return l;default:return e}},formQuestions:function(e,t){switch(void 0===e&&(e=[]),t.type){case o.FETCH_FORM_DATA_BY_ID:return a.__spread(t.contents);case"CREATE_NEW_FORM":return[];case o.ADD_QUESTION:return function(e,t){return a.__spread(e,[t.template])}(e,t);case o.REMOVE_QUESTION:return function(e,t){return e.filter(function(e){return e.questionId!==t.questionId})}(e,t);case o.UPDATE_QUESTION:return function(e,t){return e.map(function(e){var n;return e.questionId===t.questionId?a.__assign({},e,((n={})[t.questionKey]=t.value,n)):e})}(e,t);case"REPLACE_QUESTION":return function(e,t){return e.map(function(e){return e.questionId===t.questionId?t.template:e})}(e,t);case o.SAVE_FORM_BY_ID:return a.__spread(e);default:return e}},stateStatus:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case o.UPDATE_STATE_STATUS:return a.__assign({},e,((n={})[t.key]=t.value,n));default:return e}}}));t.default=u},211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(128),i=n(127),l=n(126),u=n(125),s=n(44),c=n(43),d=n(42),p=n(30),m=n(13),f=n(85),h=n(19),g=n(414),v=n(2),E=n(26),y=n(64),_=n(31),S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDialogOpen:!1},t.toggleDeleteDialog=function(){return t.setState(function(e){return{isDialogOpen:!e.isDialogOpen}})},t.handleRemoveForm=function(){t.props.removeFormById(t.props.meta.id),t.setState({isDialogOpen:!1})},t.renderDialog=function(){var e=t.state.isDialogOpen;return v.createElement(s.default,{open:e,onClose:t.toggleDeleteDialog},v.createElement(d.default,null,"Are you sure you want to delete this form?"),v.createElement(c.default,null,v.createElement(r.default,{color:"primary",onClick:t.toggleDeleteDialog},"Cancel"),v.createElement(r.default,{variant:"raised",color:"secondary",onClick:t.handleRemoveForm},"Delete")))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.linkTo,a=e.meta,s="/survey/create"===n,c=a.completed;return v.createElement(v.Fragment,null,v.createElement(o.default,{className:t.card},v.createElement(u.default,{className:t.media,image:"assets/img/temp1.png",title:a.title}),v.createElement(l.default,null,v.createElement(h.default,{gutterBottom:!0,variant:"headline",component:"h2"},a.title),v.createElement(h.default,{component:"p"},a.description),v.createElement(h.default,{component:"p"},a.createdDate),!s&&v.createElement(v.Fragment,null,v.createElement(h.default,{component:"p"},a.createdDate.substr(0,10)),v.createElement(h.default,{color:"secondary"},c?"Completed":"Incompleted"))),v.createElement(i.default,{className:t.actions},v.createElement(f.default,{title:c?"Preview Form":s?"Create Form":"Edit Form",placement:"top"},v.createElement(y.Link,{to:n},c?v.createElement(r.default,{size:"small",color:"secondary"},"Preview"):v.createElement(r.default,{size:"small",color:s?"secondary":"primary"},s?"Create":"Edit"))),!s&&v.createElement(f.default,{title:"Delete",placement:"top"},v.createElement(p.default,{color:"secondary",onClick:this.toggleDeleteDialog},v.createElement(g.default,null))))),this.renderDialog())},t.defaultProps={meta:{title:"Sample Survey",author:"Daniel",description:"Sample description",createdDate:(new Date).toDateString(),completed:!1}},t}(v.Component),C={removeFormById:_.removeFormById};t.default=E.connect(null,C)(m.withStyles({card:{maxWidth:345,minWidth:220,minHeight:150},media:{height:0,paddingTop:"56.25%"},button:{display:"flex","&:hover":{zIndex:1,opacity:.75,transition:"all .5s ease"}},actions:{display:"flex",justifyContent:"flex-end"}})(S))},212:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_QUESTION="ADD_NEW_QUESTION",t.UPDATE_QUESTION="UPDATE_QUESTION",t.REMOVE_QUESTION="REMOVE_QUESTION",t.UPDATE_FORM_INFO="UPDATE_FORM_INFO",t.UPDATE_STATE_STATUS="UPDATE_STATE_STATUS",t.FETCH_FORM_DATA_BY_ID="FETCH_FORM_DATA_BY_ID",t.FETCH_RECENT_FORMS="FETCH_RECENT_FORMS",t.SAVE_FORM_BY_ID="SAVE_FORM_BY_ID",t.SET_SEARCH_TERM="SET_SEARCH_TERM"},261:function(e,t,n){},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(103),r=n(262),o=n(50),i=n(162),l=a.compose;t.default=function(){var e=o.loadState();return a.createStore(i.default,e,l(a.applyMiddleware(r.default)))}},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(34),o=n(13),i=n(29),l=n(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=t.props.questionData,a=n.questionId;n.answers;t.props.onChangeContent(a,"answers",e.target.value)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData,a=(n.questionId,n.question,n.options),o=(n.description,n.answers);return l.createElement("div",{className:t.root},l.createElement(i.default,{required:!Boolean(o),select:!0,label:"Select",className:t.container,value:o,onChange:this.handleChange,SelectProps:{MenuProps:{className:t.menu}},helperText:"Please select an answer",margin:"normal"},a.map(function(e){return l.createElement(r.default,{key:e.id,value:e.text},e.text)})))},t}(l.Component);t.default=o.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"}})(u)},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(67),o=n(49),i=n(68),l=n(114),u=n(113),s=n(13),c=n(2),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=t.props.questionData,a=n.questionId;n.answers;t.props.onChangeContent(a,"answers",e.target.value)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData,a=(n.questionId,n.question,n.options),s=(n.description,n.answers);return c.createElement("div",{className:t.root},c.createElement(r.default,{className:t.container,component:"fieldset",required:!s},c.createElement(i.default,{component:"legend"},"Please choice one"),c.createElement(u.default,{value:s,onChange:this.handleChange},a.map(function(e){return c.createElement(o.default,{key:e.id,className:t.item,value:e.text,control:c.createElement(l.default,null),label:e.text})}))))},t}(c.Component);t.default=s.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"}})(d)},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(29),o=n(2),i=n(13),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n){var a=t.props.questionData.questionId;t.props.onChangeContent(a,e,n.target.value)}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.classes,t=this.props.questionData,n=(t.question,t.description,t.answer);return o.createElement("div",{className:e.root},o.createElement(r.default,{label:"Answer",placeholder:"Please type in your answer",multiline:!0,rows:3,rowsMax:6,fullWidth:!0,required:!Boolean(n),value:n,onChange:this.handleChange("answer")}))},t}(o.Component);t.default=i.withStyles({root:{margin:"0 10% 5%"}})(l)},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(13),o=n(2),i=n(29),l=n(34),u=n(19),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n){var r,o=t.props.questionData,i=o.questionId,l=o.answers;o.options;console.log(i,e,n.target.value),t.props.onChangeContent(i,"answers",a.__assign({},l,((r={})[e]=n.target.value,r)))}},t.findDuplicate=function(){var e=t.props.questionData.answers,n=Object.values(e);return n.some(function(e,t){return n.indexOf(e)!==t})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=t.questionData,r=(a.questionId,a.question,a.options),s=(a.description,a.answers),c=r.map(function(e){return e.key});return o.createElement("div",{className:n.root},r.map(function(e,t){return o.createElement(u.default,{key:e.id},e.key," - ",e.text)}),o.createElement("div",{className:n.selectField},r.map(function(t,n){return o.createElement(i.default,{key:t.id,select:!0,value:s["priority"+(n+1)],onChange:e.handleChange("priority"+(n+1)),margin:"normal",style:{width:90},helperText:n+1+" priority"},c.map(function(e){return o.createElement(l.default,{key:e,value:e},e)}))})),this.findDuplicate()&&o.createElement(u.default,{color:"error"},"Please only select each option once *"))},t}(o.Component);t.default=r.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"},selectField:{display:"flex",justifyContent:"center"}})(s)},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(84),o=n(49),i=n(13),l=n(2),u=n(67),s=n(68),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n,r){var o=t.props.questionData,i=o.questionId,l=o.answers;t.props.onChangeContent(i,"answers",r?a.__spread(l,[e]):l.filter(function(t){return t!==e}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=t.questionData,i=(a.questionId,a.question,a.options),c=(a.description,a.answers);return l.createElement("div",{className:n.root},l.createElement(u.default,{className:n.container,component:"fieldset",required:0===c.length},l.createElement(s.default,{component:"legend"},"Please check on applicable option"),i.map(function(t){return l.createElement(o.default,{key:t.id,className:n.item,control:l.createElement(r.default,{checked:c.includes(t.id),onChange:e.handleChange(t.id)}),label:t.text})})))},t}(l.Component);t.default=i.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%"}})(c)},269:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(65),o=n(13),i=n(2),l=n(268),u=n(267),s=n(266),c=n(265),d=n(264),p=n(19),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderType=function(){var e=t.props,n=e.questionData,r=e.onChangeContent;switch(n.questionType){case"text":return i.createElement(s.default,a.__assign({},{questionData:n,onChangeContent:r}));case"radio":return i.createElement(c.default,a.__assign({},{questionData:n,onChangeContent:r}));case"dropdown":return i.createElement(d.default,a.__assign({},{questionData:n,onChangeContent:r}));case"priority":return i.createElement(u.default,a.__assign({},{questionData:n,onChangeContent:r}));default:return i.createElement(l.default,a.__assign({},{questionData:n,onChangeContent:r}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData;return i.createElement("div",{className:t.root},i.createElement(p.default,{variant:"display1",align:"center"},n.question),i.createElement(p.default,{variant:"subheading",align:"center"},n.description),i.createElement("div",{className:t.contents},this.renderType()),i.createElement(r.default,{light:!0}))},t}(i.Component);t.default=o.withStyles({root:{display:"flex",flexDirection:"column",margin:15},content:{}})(m)},270:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(44),i=n(43),l=n(42),u=n(13),s=n(2),c=n(130),d=n(22),p=n(19),m=n(50),f=n(29),h=n(47),g=n(69),v=n(269),E=n(34),y=n(82),_=n(81),S=n(64),C=m.DBSERVER.url,D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={refId:"",author:{},title:"",description:"",firstName:"",lastName:"",email:"",phone:"",address:"",gender:"",contents:[],completed:!1,openDialog:"none",savingStatus:"",_id:""},t.handleContinueSurvey=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=this.props.location.state,[4,c.default.get(C+"/survey/client/"+e)];case 1:return t=r.sent().data,n=t.data,t.message,console.log(n),this.setState(a.__assign({},n)),[2]}})})},t.handleInitSurvey=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n,r,o,i,l,u;return a.__generator(this,function(s){switch(s.label){case 0:return e=this.props.match.params.formId,[4,c.default.get(C+"/survey/form/"+e)];case 1:return t=s.sent().data.data,n=t.title,r=t.description,o=t._id,i=t.contents,l=t.author,u=i.map(function(e){return"priority"===e.questionType?a.__assign({},e,{answers:e.options.reduce(function(e,t,n){return e["priority"+(n+1)]=t.key,e},{})}):e}),this.setState({title:n,author:l,description:r,contents:u,refId:o}),[2]}})})},t.handleChangeState=function(e,n){return function(a){var r;return t.setState(((r={})[e]=n||a.target.value,r))}},t.onChangeContent=function(e,n,r){t.setState(function(t){return a.__assign({},t,{contents:t.contents.map(function(t){var o;return t.questionId===e?a.__assign({},t,((o={})[n]=r,o)):t})})})},t.handleSaveSurvey=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n,r,o,i,l;return a.__generator(this,function(u){switch(u.label){case 0:switch(e=this.state,e._id,e.savingStatus,t=e.openDialog,n=a.__rest(e,["_id","savingStatus","openDialog"]),t){case"submit":n.completed=!0;break;case"save":n.completed=!1}r=this.props.location.state,console.log(n),this.setState({savingStatus:"SAVING"}),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,r?c.default.put(C+"/survey/client",{clientSurvey:n,clientId:r}):c.default.post(C+"/survey/client",n)];case 2:if(o=u.sent().data,i=o.data,o.message,!i)throw new Error("No data was found!");return"submit"===t&&this.setState({savingStatus:"SUBMITTED"}),"save"===t&&this.setState({savingStatus:"SAVED",_id:i._id}),[3,4];case 3:return l=u.sent(),console.log(l.message),this.setState({savingStatus:""}),[3,4];case 4:return[2]}})})},t.renderDialog=function(){var e=t.state,n=e.openDialog,a=e.savingStatus,u=e._id;return console.log(a),s.createElement(o.default,{open:"none"!==n,onClose:t.handleChangeState("openDialog","none")},s.createElement(l.default,null,"Are you sure you want to "+n+" this survey?"),s.createElement(y.default,null,s.createElement(_.default,null,"submit"===n?"You will not be able to edit the form when you choose submit this form.":"You can edit this form later on."),"SAVING"===a&&s.createElement(h.default,{in:"SAVING"===a,style:{transitionDelay:"SAVING"===a?"500ms":"0ms"},unmountOnExit:!0},s.createElement(g.default,{size:100})),"SAVED"===a?s.createElement(s.Fragment,null,s.createElement(_.default,{color:"primary"},"Please save this reference number for future modification:"),s.createElement(p.default,{color:"error"},u)):s.createElement(_.default,null,"Thank you for your support")),s.createElement(i.default,null,s.createElement(r.default,{color:"primary",onClick:t.handleChangeState("openDialog","none")},"Cancel"),["SUBMITTED","SAVED"].includes(a)?s.createElement(S.Link,{to:"/"},s.createElement(r.default,{variant:"raised",color:"primary",onClick:t.handleChangeState("openDialog","none")},"Finish")):"save"===n?s.createElement(r.default,{variant:"raised",color:"secondary",onClick:t.handleSaveSurvey},"Save"):s.createElement(r.default,{variant:"raised",color:"secondary",onClick:t.handleSaveSurvey},"Submit")))},t.renderQuestion=function(){return t.state.contents.map(function(e){return s.createElement(v.default,{onChangeContent:t.onChangeContent,questionData:e,key:""+e.questionId})})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){if(this.state.contents.length>0)return null;this.props.location.state?(console.log(this.props.location.state),this.handleContinueSurvey()):this.props.match.params.formId&&this.handleInitSurvey()},t.prototype.renderSurvey=function(){var e=this.props.classes,t=this.state,n=t.title,a=t.description,o=t.firstName,i=t.lastName,l=t.email,u=t.phone,c=t.address,d=t.gender;t.contents,t.openDialog;return s.createElement("div",{className:e.surveyContainer},s.createElement(p.default,{variant:"display2",align:"center"},n),s.createElement(p.default,{variant:"subheading",align:"center"},a),s.createElement("div",{className:e.userInfosContainer},s.createElement(f.default,{className:e.textField,helperText:"First Name",placeholder:"First Name",value:o,onChange:this.handleChangeState("firstName")}),s.createElement(f.default,{className:e.textField,helperText:"Last Name",placeholder:"Last Name",value:i,onChange:this.handleChangeState("lastName")}),s.createElement(f.default,{className:e.textField,helperText:"Email",placeholder:"Email",value:l,onChange:this.handleChangeState("email")}),s.createElement(f.default,{className:e.textField,helperText:"Phone",placeholder:"Phone",value:u,onChange:this.handleChangeState("phone")}),s.createElement(f.default,{className:e.textField,helperText:"Address",placeholder:"Address",value:c,onChange:this.handleChangeState("address")}),s.createElement(f.default,{select:!0,className:e.textField,helperText:"Gender",placeholder:"Gender",value:d||"Other",onChange:this.handleChangeState("gender")},s.createElement(E.default,{value:"men"},"Men"),s.createElement(E.default,{value:"women"},"Women"),s.createElement(E.default,{value:"other"},"Other"))),this.renderQuestion(),s.createElement("div",null),s.createElement("div",{className:e.buttonContainer},s.createElement(r.default,{className:e.buttonItem,variant:"raised",onClick:this.handleChangeState("openDialog","save")},"Save"),s.createElement(r.default,{className:e.buttonItem,variant:"raised",onClick:this.handleChangeState("openDialog","submit")},"Submit")),this.renderDialog())},t.prototype.render=function(){var e=this.props.classes,t=this.state.contents;return console.log(this.state),s.createElement(d.default,{className:e.root},0===t.length?s.createElement(h.default,{in:0===t.length,style:{transitionDelay:0===t.length?"500ms":"0ms",margin:16},unmountOnExit:!0},s.createElement(g.default,{size:100})):this.renderSurvey())},t}(s.Component);t.default=u.withStyles({root:{display:"flex",justifyContent:"center",margin:"0 10vw"},surveyContainer:{display:"flex",flexDirection:"column",alignItems:"stretch"},userInfosContainer:{display:"flex",justifyContent:"center",flexWrap:"wrap"},textField:{marginLeft:8,marginRight:8,width:"40%"},buttonContainer:{display:"flex",margin:8,justifyContent:"flex-end"},buttonItem:{marginRight:8}})(D)},292:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(30),o=n(91),i=n(22),l=n(13),u=n(291),s=n(290),c=n(289),d=n(288),p=n(287),m=n(2),f=n(26),h=n(31),g=n(85),v=n(50),E=n(24),y=n(44),_=n(43),S=n(42),C=n(82),D=n(81);u.default,s.default,d.default,p.default,c.default;var T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dialogType:""},t.handleState=function(e,n){return void 0===n&&(n=""),function(){var a;return t.setState(((a={})[e]=n,a))}},t.handleAction=function(e){return function(){switch(e){case"submit":t.props.saveFormToDb("submit"===e);case"save":t.props.saveFormToDb("submit"===e);break;default:return t.props.addQuestion(v.createTemplate())}return t.setState({dialogType:""})}},t.renderDialog=function(){var e=t.state.dialogType;return m.createElement(y.default,{open:["save","submit"].includes(e),onClose:t.handleState("dialogType")},m.createElement(S.default,null,"Are you sure you want to "+e+" this survey?"),m.createElement(C.default,null,m.createElement(D.default,null,"submit"===e?"You will not be able to edit the form when you choose submit this form.":"You can edit this form later on.")),m.createElement(_.default,null,m.createElement(E.default,{color:"primary",onClick:t.handleState("dialogType")},"Cancel"),m.createElement(E.default,{variant:"raised",color:"secondary",onClick:t.handleAction(e)},e)))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.classes;return m.createElement(i.default,{elevation:4,className:e.root},m.createElement(o.default,{className:e.column},m.createElement(g.default,{title:"Add New Question",placement:"left"},m.createElement(r.default,{onClick:this.handleAction("add")},m.createElement(u.default,null))),m.createElement(g.default,{title:"Reserved",placement:"left"},m.createElement(r.default,null,m.createElement(s.default,null))),m.createElement(g.default,{title:"Temporary Save Survey",placement:"left"},m.createElement(r.default,{onClick:this.handleState("dialogType","save")},m.createElement(p.default,null))),m.createElement(g.default,{title:"Finish or Complete Survey",placement:"left"},m.createElement(r.default,{onClick:this.handleState("dialogType","submit")},m.createElement(c.default,null)))),this.renderDialog())},t}(m.Component),w={addQuestion:h.addQuestion,saveFormToDb:h.saveFormToDb};t.default=f.connect(null,w)(l.withStyles(function(e){return{root:{position:"fixed",top:"15vh",right:"5vw",width:"48px",marginRight:"5px"},column:{display:"flex",flexDirection:"column"},paper:{marginRight:2*e.spacing.unit},popperClose:{pointerEvents:"none"}}})(T))},293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(29),r=n(2),o=n(26),i=n(31),l=n(13),u=n(65),s={updateFormInfo:i.updateFormInfo};t.default=o.connect(function(e){return{title:e.formInfo.title,description:e.formInfo.description}},s)(l.withStyles({root:{margin:5},content:{padding:10,margin:"0 15vw 5px"}})(function(e){var t=e.classes,n=e.title,o=e.description,i=e.updateFormInfo;return r.createElement("div",{className:t.root},r.createElement("div",{className:t.content},r.createElement(a.default,{fullWidth:!0,placeholder:"Title",value:n,onChange:function(e){return i("title",e.target.value)}}),r.createElement(a.default,{fullWidth:!0,placeholder:"Description",value:o,onChange:function(e){return i("description",e.target.value)}})),r.createElement(u.default,{light:!0}))}))},294:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(29),o=n(2),i=n(26),l=n(31),u=n(13),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n){return function(a,r){var o=t.props.questionData.questionId;t.props.updateQuestion(o,e,n||a.target.value)}},t.renderFormCreate=function(){var e=t.props.classes,n=t.props.questionData,a=n.question,i=n.description;return o.createElement("div",{className:e.root},o.createElement(r.default,{label:"Question",placeholder:"Please type in question",multiline:!0,fullWidth:!0,value:a,onChange:t.handleChange("question")}),o.createElement(r.default,{label:"Description",placeholder:"Please type in description",multiline:!0,fullWidth:!0,value:i,onChange:t.handleChange("description")}))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(o.Component),c={updateQuestion:l.updateQuestion};t.default=i.connect(function(e){return{}},c)(u.withStyles({root:{margin:"0 10% 5%"}})(s))},295:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(49),o=n(24),i=n(29),l=n(165),u=n(30),s=n(164),c=n(2),d=n(26),p=n(31),m=n(13),f=n(34),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n,r){return void 0===e&&(e="text"),function(o,i){var l=t.props.questionData,u=l.questionId,s=l.options;l.answers;switch(e){case"priority-add":return t.props.updateQuestion(u,"options",a.__spread(s,[{id:(Date.now()+1).toString(36),key:String.fromCharCode(65+s.length),text:""}]));case"priority-text":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{text:o.target.value}):e}));case"priority-key":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{key:o.target.value}):e}));case"remove":return t.props.updateQuestion(u,"options",s.filter(function(e){return e.id!==n}));default:return t.props.updateQuestion(u,n,r||o.target.value)}}},t.renderFormCreate=function(){var e=t.props,n=e.classes,a=(e.updateQuestion,e.questionData),d=(a.questionId,a.question),p=a.options,m=a.description;return c.createElement("div",{className:n.root},c.createElement(i.default,{label:"Question",placeholder:"Priority question",multiline:!0,fullWidth:!0,value:d,onChange:t.handleChange("text","question")}),c.createElement(i.default,{label:"Description",placeholder:"Extra Description",multiline:!0,fullWidth:!0,value:m,onChange:t.handleChange("text","description")}),c.createElement("div",null,p.map(function(e){return c.createElement("div",{className:n.checkContainer,key:e.id},c.createElement(r.default,{classes:{label:n.label},control:c.createElement(i.default,{select:!0,onChange:t.handleChange("priority-key",e.id),value:e.key},p.map(function(e,t){return c.createElement(f.default,{key:e.id,value:String.fromCharCode(65+t)},String.fromCharCode(65+t))})),label:c.createElement(i.default,{fullWidth:!0,placeholder:"Enter a response here.",multiline:!0,value:e.text,onChange:t.handleChange("priority-text",e.id)})}),p.length>1&&c.createElement(u.default,{onClick:t.handleChange("remove",e.id)},c.createElement(s.default,null)))})),c.createElement(o.default,{variant:"fab",className:n.addButton,mini:!0,color:"secondary",onClick:t.handleChange("priority-add")},c.createElement(l.default,null)))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(c.Component),g={updateQuestion:p.updateQuestion};t.default=d.connect(function(e){return{}},g)(m.withStyles({root:{margin:"0 10% 5%"},checkContainer:{display:"flex",minHeight:48,paddingLeft:"10%"},keyText:{margin:"0 10px",fontWeight:"bold"},form:{width:"100%"},label:{width:"30vw"},addButton:{display:"flex",marginLeft:"auto",marginRight:0}})(h))},296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(84),i=n(49),l=n(30),u=n(13),s=n(29),c=n(165),d=n(164),p=n(2),m=n(26),f=n(31),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n,r){return function(o,i){var l=t.props.questionData,u=l.questionId,s=l.options;switch(e){case"checkbox-add":return t.props.updateQuestion(u,"options",a.__spread(s,[{id:(Date.now()+1).toString(36),correct:!1,text:""}]));case"checkbox-text":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{text:o.target.value}):e}));case"check":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{correct:i}):e}));case"remove":return t.props.updateQuestion(u,"options",s.filter(function(e){return e.id!==n}));default:return t.props.updateQuestion(u,n,r||o.target.value)}}},t.renderFormCreate=function(){var e=t.props,n=e.classes,a=(e.updateQuestion,e.questionData),u=(a.questionId,a.question),m=a.options,f=a.description;return p.createElement("div",{className:n.root},p.createElement(s.default,{label:"Question",placeholder:"Checkbox question",multiline:!0,fullWidth:!0,value:u,onChange:t.handleChange("text","question")}),p.createElement(s.default,{label:"Description",placeholder:"Extra Description",multiline:!0,fullWidth:!0,value:f,onChange:t.handleChange("text","description")}),p.createElement("div",null,m.map(function(e){return p.createElement("div",{className:n.checkContainer,key:e.id},p.createElement(i.default,{classes:{label:n.label},control:p.createElement(o.default,{checked:e.correct,onChange:t.handleChange("check",e.id)}),label:p.createElement(s.default,{fullWidth:!0,placeholder:"Enter a choice here.",multiline:!0,value:e.text,onChange:t.handleChange("checkbox-text",e.id)})}),m.length>1&&p.createElement(l.default,{onClick:t.handleChange("remove",e.id)},p.createElement(d.default,null)))})),p.createElement(r.default,{variant:"fab",className:n.addButton,mini:!0,color:"secondary",onClick:t.handleChange("checkbox-add")},p.createElement(c.default,null)))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(p.Component),g={updateQuestion:f.updateQuestion};t.default=m.connect(function(e){return{}},g)(u.withStyles({root:{margin:"0 10% 5%"},checkContainer:{display:"flex",minHeight:48,paddingLeft:"10%"},form:{width:"100%"},label:{width:"30vw"},addButton:{display:"flex",marginLeft:"auto",marginRight:0}})(h))},298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(44),i=n(43),l=n(42),u=n(65),s=n(30),c=n(34),d=n(13),p=n(29),m=n(297),f=n(2),h=n(26),g=n(31),v=n(50),E=n(296),y=n(295),_=n(294),S={text:"Text Question",checkbox:"Checkbox Question",radio:"Radio Question",dropdown:"Dropdown Question",priority:"Priority Question",multipleDropdown:"Multiple Dropdown Question"},C=Object.keys(S),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDialogOpen:!1},t.toggleDeleteDialog=function(){t.setState(function(e){return{isDialogOpen:!e.isDialogOpen}})},t.handleChangeQuestionType=function(e){var n=t.props.questionData.questionId,a=v.createTemplate(e.target.value,n);t.props.replaceQuestion(n,a)},t.handleRemoveQuestion=function(){var e=t.props.questionData.questionId;t.props.removeQuestion(e),t.setState({isDialogOpen:!1})},t.renderDeleteDialog=function(e){var n=t.state.isDialogOpen;return f.createElement(o.default,{open:n,onClose:t.toggleDeleteDialog},f.createElement(l.default,null,"Are you sure you want to delete this question?"),f.createElement(i.default,null,f.createElement(r.default,{color:"primary",onClick:t.toggleDeleteDialog},"Cancel"),f.createElement(r.default,{variant:"raised",color:"secondary",onClick:t.handleRemoveQuestion},"Delete")))},t.renderQuestion=function(){var e=t.props.questionData;switch(e.questionType){case"text":return f.createElement(_.default,a.__assign({},{questionData:e}));case"priority":return f.createElement(y.default,a.__assign({},{questionData:e}));default:return f.createElement(E.default,a.__assign({},{questionData:e}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData;this.state.isDialogOpen;return f.createElement("div",{className:t.root},f.createElement(p.default,{select:!0,className:t.questionSelection,onChange:this.handleChangeQuestionType,value:n.questionType},C.map(function(e){return f.createElement(c.default,{key:e,value:e},S[e])})),f.createElement(s.default,{className:t.clearIcon,onClick:this.toggleDeleteDialog},f.createElement(m.default,null)),this.renderQuestion(),this.renderDeleteDialog(n.questionId),f.createElement(u.default,{light:!0}))},t}(f.Component),T={removeQuestion:g.removeQuestion,replaceQuestion:g.replaceQuestion};t.default=h.connect(null,T)(d.withStyles({root:{margin:5},questionSelection:{marginTop:5,marginLeft:"25%",width:"50%"},clearIcon:{float:"right"}})(D))},299:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(44),i=n(43),l=n(42),u=n(13),s=n(76),c=n(77),d=n(2),p=n(26),m=n(298),f=n(293),h=n(31),g=n(292),v=n(22),E=n(167),y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTab:0,isDialogOpen:!1,isSubmitting:!1,isPreview:!1},t.handleUpdateState=function(e,n){return function(){var a;return t.setState(((a={})[e]=n,a))}},t.handleSave=function(e){return function(){t.props.saveFormToDb("submit"===e),t.handleUpdateState("isDialogOpen",!1)}},t.handleSubmit=function(){t.setState({isSubmitting:!0,isDialogOpen:!0})},t.renderQuestion=function(){return t.props.formQuestions.map(function(e){return d.createElement(m.default,{questionData:e,key:""+e.questionId})})},t.renderDialog=function(e){return d.createElement(o.default,{open:e,onClose:t.handleUpdateState("isDialogOpen",!1)},d.createElement(l.default,null,"Are you sure you want to "+(t.state.isSubmitting?"submit":"create")+" this survey?"),d.createElement(i.default,null,d.createElement(r.default,{color:"primary",onClick:t.handleUpdateState("isDialogOpen",!1)},"Cancel"),t.state.isSubmitting?d.createElement(r.default,{color:"secondary",onClick:t.handleSave("submit")},"Submit"):d.createElement(r.default,{color:"secondary",onClick:t.handleSave("save")},"Save")))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.match.params.activeId&&("create"===this.props.match.params.activeId&&this.props.createNewForm(),this.props.getFormDataById(this.props.match.params.activeId))},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=(t.submitStatus,t.currentPosition,this.state),r=a.isDialogOpen,o=a.activeTab;return d.createElement(v.default,{className:n.root},this.renderDialog(r),d.createElement(c.default,{value:o,onChange:function(t,n){return e.handleUpdateState("activeTab",n)()},indicatorColor:"primary",textColor:"primary",centered:!0},d.createElement(s.default,{label:"Survey Form"})),d.createElement(E.default,{index:o,onChangeIndex:function(t){return e.handleUpdateState("activeTab",t)()}},d.createElement(d.Fragment,null,d.createElement(f.default,null),this.renderQuestion())),d.createElement(g.default,null))},t}(d.Component),_={createNewForm:h.createNewForm,saveFormToDb:h.saveFormToDb,getFormDataById:h.getFormDataById};t.default=p.connect(function(e){return{formQuestions:e.formQuestions,submitStatus:e.stateStatus.submitStatus,currentPosition:e.stateStatus.currentPosition}},_)(u.withStyles({root:{margin:"0 10vw"}})(y))},301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(123),o=n(30),i=n(115),l=n(34),u=n(112),s=n(13),c=n(78),d=n(19),p=n(300),m=n(2),f=n(26),h=n(64),g=n(31),v=function(e){return m.createElement(h.Link,a.__assign({},e,{to:"/"}))},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.handleChange=function(e,n){t.setState({auth:n})},t.handleMenu=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.handleLoggedOut=function(){t.setState({anchorEl:null}),t.props.requestLogout()},t.handleSnackbar=function(e,n){return function(){return t.props.updateStateStatus(e,n)}},t.renderSnackBar=function(){var e=t.props.statusText;return m.createElement(u.default,{key:parseInt(e,10),anchorOrigin:{vertical:"top",horizontal:"center"},open:Boolean(e),autoHideDuration:3e3,onClose:t.handleSnackbar("statusText",""),message:m.createElement("span",{id:"message-id"},e)})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.brandName,a=this.state.anchorEl,u=Boolean(a);return m.createElement(m.Fragment,null,m.createElement(r.default,{position:"static",className:t.root},m.createElement(c.default,null,m.createElement(d.default,{component:v,variant:"title",color:"inherit",className:t.flex},n),"LOGIN_SUCCESS"===this.props.authenticationText&&m.createElement("div",null,m.createElement(o.default,{onClick:this.handleMenu,color:"inherit"},m.createElement(p.default,null)),m.createElement(i.default,{anchorEl:a,open:u,onClose:this.handleClose},m.createElement(l.default,{onClick:this.handleLoggedOut},"Log out"))))),this.renderSnackBar())},t}(m.Component),y={setSearchTerm:g.setSearchTerm,updateStateStatus:g.updateStateStatus,requestLogout:g.requestLogout};t.default=f.connect(function(e){return{authenticationText:e.authentication.text,searchTerm:e.searchTerm,brandName:e.brandName,surveyData:e.surveyData,statusText:e.stateStatus.statusText}},y)(s.withStyles({root:{flexGrow:1,marginBottom:5},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20}})(E))},31:function(e,t,n){"use strict";var a=this;Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=n(130),i=n(50),l=n(212);t.setSearchTerm=function(e){return{searchTerm:e,type:l.SET_SEARCH_TERM}},t.updateStateStatus=function(e,t){return{key:e,value:t,type:l.UPDATE_STATE_STATUS}},t.createNewForm=function(){return{type:"CREATE_NEW_FORM"}},t.updateFormInfo=function(e,t){return{k:e,v:t,type:l.UPDATE_FORM_INFO}},t.addQuestion=function(e,t){return void 0===t&&(t=null),{template:e,position:t,type:l.ADD_QUESTION}},t.removeQuestion=function(e){return{questionId:e,type:l.REMOVE_QUESTION}},t.updateQuestion=function(e,t,n){return{questionId:e,questionKey:t,value:n,type:l.UPDATE_QUESTION}},t.replaceQuestion=function(e,t){return{questionId:e,template:t,type:"REPLACE_QUESTION"}};var u=i.DBSERVER.url;t.requestLogin=function(e,n){return function(l){return r.__awaiter(a,void 0,void 0,function(){var a,s,c,d,p;return r.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),l(t.updateStateStatus("statusText","Loggin User In")),l({type:"LOGIN_PENDING",payload:{text:"LOGIN_PENDING",user:{}}}),[4,o.default.post(u+"/survey/authenticate",{username:e,password:n})];case 1:return a=r.sent().data,s=a.data,c=a.message,d=a.user,"LOGIN_SUCCESS"===s&&(l({type:s,payload:{text:s,user:d}}),i.saveState({authentication:{text:s,user:d}})),"LOGIN_FAILED"===s&&l({type:s,payload:{text:s,user:{}}}),l(t.updateStateStatus("statusText",c)),[3,3];case 2:return p=r.sent(),console.log(p),l(t.updateStateStatus("statusText","Cannot Reach Server")),l({type:"LOGIN_FAILED",payload:{text:"LOGIN_FAILED",user:{}}}),[3,3];case 3:return[2]}})})}},t.requestLogout=function(){return function(e){i.clearAuthenticationKey(),e({type:"LOGGED_OUT",payload:{text:"LOGGED_OUT",user:{}}}),e(t.updateStateStatus("statusText","Sucessfully Logged Out"))}},t.fetchRecentForms=function(e){return void 0===e&&(e="Daniel"),function(e,n){return r.__awaiter(a,void 0,void 0,function(){var a,i,s;return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.default.get(u+"/survey/recent")];case 1:return a=r.sent().data,i=a.data,s=a.message,JSON.stringify(n().recentForms).length===JSON.stringify(i).length?[2]:(e({recentForms:i,type:l.FETCH_RECENT_FORMS}),e(t.updateStateStatus("statusText",s)),[2])}})})}},t.getFormDataById=function(e){return function(n){return r.__awaiter(a,void 0,void 0,function(){var a,i,s,c,d,p;return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.default.get(u+"/survey/form/"+e)];case 1:return(a=r.sent().data).data&&(i=a.data,s=i.contents,c=i.title,d=i.description,p=i._id,n({contents:s,formInfo:{title:c,description:d,formId:p},type:l.FETCH_FORM_DATA_BY_ID})),n(t.updateStateStatus("statusText",a.message)),[2]}})})}},t.saveFormToDb=function(e){return function(n,i){return r.__awaiter(a,void 0,void 0,function(){var a,s,c,d,p,m,f,h;return r.__generator(this,function(g){switch(g.label){case 0:return a=i(),s=a.formQuestions,c=a.formInfo,d=a.authentication.user,p=r.__assign({},c,{contents:s,completed:e,author:d}),[4,c.formId?o.default.put(u+"/survey/form/"+c.formId,p):o.default.post(u+"/survey",p)];case 1:return m=g.sent().data,f=m.data,(h=m.message)&&(n({formId:f,type:l.SAVE_FORM_BY_ID}),n(t.updateStateStatus("statusText",h))),[2]}})})}},t.removeFormById=function(e){return function(n){return r.__awaiter(a,void 0,void 0,function(){var a,i;return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.default.delete(u+"/survey/form/"+e)];case 1:return a=r.sent().data,a.data,(i=a.message)?(n({type:"REMOVE_FORM_BY_ID",id:e}),n(t.updateStateStatus("statusText",i)),[2]):[2]}})})}}},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(211),o=n(19),i=n(13);t.default=i.withStyles({root:{marginTop:5,marginBottom:15},formDiv:{display:"flex",justifyContent:"center"}})(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(o.default,{gutterBottom:!0,variant:"display2",align:"center"},"Create New Form"),a.createElement("div",{className:t.formDiv},a.createElement(r.default,{linkTo:"/survey/create"})))})},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18);Date.now().toString(36),Date.now().toString(36),(Date.now()+1).toString(36);t.createTemplate=function(e,t){void 0===e&&(e="checkbox"),void 0===t&&(t=Date.now().toString(36));var n={questionId:t,questionType:e,question:"",description:"",answers:""},r=[{id:(Date.now()+1).toString(36),correct:!1,text:""}],o=[{id:(Date.now()+1).toString(36),key:"A",text:""}];switch(e){case"text":return a.__assign({},n);case"checkbox":return a.__assign({},n,{answers:[],options:r,maxChoice:r.length});case"priority":return a.__assign({},n,{answers:{},options:o});default:return a.__assign({},n,{options:r})}}},442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(2),o=n(26),i=n(31),l=n(211),u=n(19),s=n(69),c=n(47),d=n(124),p=n(411),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTemplate=function(){var e=t.props,n=e.classes,a=e.recentForms;return r.createElement(d.default,{container:!0,spacing:8,className:n.gridContainter},0===a.length?r.createElement(c.default,{in:0===a.length,style:{transitionDelay:0===a.length?"500ms":"0ms"},unmountOnExit:!0},r.createElement(s.default,{size:100})):a.map(function(e){return r.createElement(d.default,{item:!0,key:e.id,className:n.gridItem,md:3,xl:4},r.createElement(l.default,{linkTo:e.completed?"/client-survey/render/"+e.id:"/survey/"+e.id,meta:e}))}))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.fetchRecentForms()},t.prototype.render=function(){return r.createElement("div",null,r.createElement(u.default,{gutterBottom:!0,align:"center",variant:"display2"},"Your recent forms"),this.renderTemplate())},t}(r.Component),f={fetchRecentForms:i.fetchRecentForms};t.default=o.connect(function(e){return{recentForms:e.recentForms}},f)(p.withStyles({gridContainter:{display:"flex",padding:5,justifyContent:"center"},gridItem:{display:"flex",justifyContent:"center"}})(m))},443:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(442),o=n(312),i=n(13);t.default=i.withStyles({root:{margin:"0 5vw"}})(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(o.default,null),a.createElement(r.default,null))})},50:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(423);t.createTemplate=r.createTemplate;var o={url:"https://survey-middleware.herokuapp.com"};t.DBSERVER=o;t.saveState=function(e){try{var t=JSON.stringify(e);localStorage.setItem("surveyState",t)}catch(e){console.log(e)}},t.clearAuthenticationKey=function(){try{localStorage.removeItem("surveyState")}catch(e){console.log(e)}},t.loadState=function(){try{var e=localStorage.getItem("surveyState");if(null==e)return;return a.__assign({},JSON.parse(e))}catch(e){return}}},533:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),r=n(24),o=n(69),i=n(47),l=n(30),u=n(151),s=n(13),c=n(29),d=n(445),p=n(444),m=n(2),f=n(26),h=n(443),g=n(31),v=n(76),E=n(77),y=n(167),_=n(22),S=n(64),C=n(130),D=n(50),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={username:"",password:"",showPassword:!1,activeTab:0,clientId:"",redirect:""},t.handleLogin=function(e){if("click"===e.type||"keypress"===e.type&&"Enter"===e.key){var n=t.state,a=n.username,r=n.password;t.props.requestLogin(a,r)}},t.handleChange=function(e,n){return function(a){var r;t.setState(((r={})[e]=n||a.target.value,r))}},t.handleChangeTabs=function(e,n){return t.setState({activeTab:n})},t.handleContinueSurvey=function(e){return function(){return a.__awaiter(t,void 0,void 0,function(){var t,n,r;return a.__generator(this,function(a){switch(a.label){case 0:if(!e)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,C.default.get(D.DBSERVER.url+"/survey/client/"+e)];case 2:return t=a.sent().data,n=t.data,t.message,n?(console.log("proc"),[2,this.setState({redirect:n._id})]):[3,4];case 3:return r=a.sent(),console.log(r),[3,4];case 4:return[2]}})})}},t.renderLogin=function(){var e=t.props,n=e.classes,a=e.authentication,s=t.state,f=s.username,h=s.password,g=s.showPassword,C=s.activeTab,D=s.clientId,T=(s.redirect,"LOGIN_PENDING"===a.text);return m.createElement("div",{className:n.root},t.state.redirect&&m.createElement(S.Redirect,{to:{pathname:"/client-survey/render/continue",state:t.state.redirect}}),m.createElement(E.default,{value:C,onChange:t.handleChangeTabs,indicatorColor:"primary",textColor:"primary",centered:!0},m.createElement(v.default,{label:"Login Form"}),m.createElement(v.default,{label:"Continue Survey Form"})),m.createElement(y.default,{index:C,onChangeIndex:function(e){return t.handleChange("activeTab",e)()}},m.createElement(_.default,{className:n.formContainer},m.createElement(c.default,{className:n.textField,placeholder:"Username",value:f,onChange:t.handleChange("username"),onKeyPress:t.handleLogin}),m.createElement(c.default,{type:g?"text":"password",className:n.textField,placeholder:"Password",value:h,onChange:t.handleChange("password"),onKeyPress:t.handleLogin,InputProps:{endAdornment:m.createElement(u.default,{position:"end"},m.createElement(l.default,{"aria-label":"Toggle password visibility",onClick:t.handleChange("showPassword",!g)},t.state.showPassword?m.createElement(p.default,null):m.createElement(d.default,null)))}}),m.createElement("div",null,m.createElement(r.default,{color:"primary",onClick:t.handleLogin},"Login"))),m.createElement(_.default,{className:n.formContainer},m.createElement(c.default,{className:n.textField,placeholder:"Client Id",value:D,onChange:t.handleChange("clientId")}),m.createElement(r.default,{color:"primary",onClick:t.handleContinueSurvey(D)},"Continue"))),T&&m.createElement(i.default,{in:T,style:{transitionDelay:T?"500ms":"0ms"},unmountOnExit:!0},m.createElement(o.default,{size:100})))},t}return a.__extends(t,e),t.prototype.render=function(){return"LOGIN_SUCCESS"===this.props.authentication.text&&this.props.authentication.user.id?m.createElement(h.default,null):this.renderLogin()},t}(m.Component),w={requestLogin:g.requestLogin};t.default=f.connect(function(e){return{authentication:e.authentication}},w)(s.withStyles({root:{display:"flex",flexDirection:"column",alignItems:"center"},formContainer:{display:"flex",flexDirection:"column",margin:"0 5vw 5px",alignItems:"center"},textField:{width:"50%"}})(T))},534:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.default=function(){return a.createElement("h1",{style:{textAlign:"center"}},"404! :D:D")}},579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=n(2),o=n(64),i=n(534),l=n(533),u=n(301),s=n(299),c=n(286),d=n(270),p=a.createMuiTheme({}),m=function(){return r.createElement(r.Fragment,null,r.createElement(u.default,null),r.createElement(c.default,{style:{height:"calc(100vh - 90px)"}},r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:"/",component:l.default}),r.createElement(o.Route,{path:"/survey/:activeId",component:s.default}),r.createElement(o.Route,{component:i.default}))))};t.App=function(){return r.createElement(o.BrowserRouter,null,r.createElement(a.MuiThemeProvider,{theme:p},r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:"/client-survey/render/:formId",component:d.default}),r.createElement(o.Route,{component:m}))))}},583:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(26),o=n(579);t.default=function(e){var t=e.store;return a.createElement(r.Provider,{store:t},a.createElement(o.App,null))}},591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),o=n(25),i=n(583),l=n(263),u=(n(162),l.default());a=i.default,o.render(r.createElement(a,{store:u}),document.getElementById("app"))},592:function(e,t,n){n(591),e.exports=n(261)}});