!function(e){function t(t){for(var a,i,l=t[0],u=t[1],s=t[2],d=0,p=[];d<l.length;d++)i=l[d],r[i]&&p.push(r[i][0]),r[i]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(c&&c(t);p.length;)p.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var u=n[l];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={1:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window.webpackJsonp=window.webpackJsonp||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var c=u;o.push([587,0]),n()}({156:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(96),o=n(230);var i={title:"",description:"",isDeleted:!1,completed:!1,author:{username:"daniel"}},l=(Date.now().toString(36),r.combineReducers({brandName:function(){return"Survey Test Sites"},searchTerm:function(e,t){return void 0===e&&(e=""),t.type===o.SET_SEARCH_TERM?t.searchTerm:e},recentForms:function(e,t){switch(void 0===e&&(e=[]),t.type){case o.FETCH_RECENT_FORMS:return a.__spread(t.recentForms)||e;default:return e}},formInfo:function(e,t){var n;switch(void 0===e&&(e=i),t.type){case o.FETCH_FORM_DATA_BY_ID:return a.__assign({},e,t.formInfo);case"CREATE_NEW_FORM":return a.__assign({},i);case o.SAVE_FORM_BY_ID:return a.__assign({},e);case o.UPDATE_FORM_INFO:return a.__assign({},e,((n={})[t.infoKey]=t.value,n));default:return a.__assign({},e)}},formQuestions:function(e,t){switch(void 0===e&&(e=[]),t.type){case o.FETCH_FORM_DATA_BY_ID:return a.__spread(t.contents);case"CREATE_NEW_FORM":return[];case o.ADD_QUESTION:return function(e,t){return a.__spread(e,[t.template])}(e,t);case o.REMOVE_QUESTION:return function(e,t){return e.filter(function(e){return e.questionId!==t.questionId})}(e,t);case o.UPDATE_QUESTION:return function(e,t){return e.map(function(e){var n;return e.questionId===t.questionId?a.__assign({},e,((n={})[t.questionKey]=t.value,n)):e})}(e,t);case"REPLACE_QUESTION":return function(e,t){return e.map(function(e){return e.questionId===t.questionId?t.template:e})}(e,t);case o.SAVE_FORM_BY_ID:return a.__spread(e);default:return e}},stateStatus:function(e,t){var n;switch(void 0===e&&(e={}),t.type){case o.UPDATE_STATE_STATUS:return a.__assign({},e,((n={})[t.key]=t.value,n));default:return e}}}));t.default=l},229:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(13),o=n(144),i=n(143),l=n(142),u=n(141),s=n(25),c=n(18),d=n(100);t.default=r.withStyles({card:{maxWidth:345,minWidth:220,minHeight:150},media:{height:0,paddingTop:"56.25%"},button:{display:"flex","&:hover":{zIndex:1,opacity:.75,transition:"all .5s ease"}},actions:{display:"flex",justifyContent:"flex-end"}})(function(e){var t=e.classes,n=e.linkTo,r=e.meta,p=void 0===r?{title:"Sample Survey",author:"Daniel",description:"Sample description",createdDate:(new Date).toDateString(),completed:!1}:r;return a.createElement(o.default,{className:t.card},a.createElement(u.default,{className:t.media,image:"assets/img/temp1.png",title:p.title}),a.createElement(l.default,null,a.createElement(c.default,{gutterBottom:!0,variant:"headline",component:"h2"},p.author),a.createElement(c.default,{component:"p"},p.description),a.createElement(c.default,{component:"p"},p.createdDate),"/survey/create"!==n&&a.createElement(a.Fragment,null,a.createElement(c.default,{component:"p"},p.createdDate.substr(0,10)),a.createElement(c.default,{color:"secondary"},p.completed?"Completed":"Incompleted"))),a.createElement(i.default,{className:t.actions},a.createElement(d.Link,{to:n},p.completed?a.createElement(s.default,{size:"small",color:"secondary"},"Preview"):a.createElement(s.default,{size:"small",color:"/survey/create"===n?"secondary":"primary"},"/survey/create"===n?"Create":"Edit"))))})},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ADD_QUESTION="ADD_NEW_QUESTION",t.UPDATE_QUESTION="UPDATE_QUESTION",t.REMOVE_QUESTION="REMOVE_QUESTION",t.UPDATE_FORM_INFO="UPDATE_FORM_INFO",t.UPDATE_STATE_STATUS="UPDATE_STATE_STATUS",t.FETCH_FORM_DATA_BY_ID="FETCH_FORM_DATA_BY_ID",t.FETCH_RECENT_FORMS="FETCH_RECENT_FORMS",t.SAVE_FORM_BY_ID="SAVE_FORM_BY_ID",t.SET_SEARCH_TERM="SET_SEARCH_TERM"},259:function(e,t,n){},261:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(96),r=n(260),o=n(156),i=a.compose;t.default=function(){return a.createStore(o.default,i(a.applyMiddleware(r.default)))}},262:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(36),o=n(13),i=n(27),l=n(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=t.props.questionData,a=n.questionId;n.answers;t.props.onChangeContent(a,"answers",e.target.value)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData,a=(n.questionId,n.question,n.options),o=(n.description,n.answers);return l.createElement("div",{className:t.root},l.createElement(i.default,{required:!Boolean(o),select:!0,label:"Select",className:t.container,value:o,onChange:this.handleChange,SelectProps:{MenuProps:{className:t.menu}},helperText:"Please select an answer",margin:"normal"},a.map(function(e){return l.createElement(r.default,{key:e.id,value:e.text},e.text)})))},t}(l.Component);t.default=o.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"}})(u)},263:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(63),o=n(46),i=n(62),l=n(111),u=n(110),s=n(13),c=n(2),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){var n=t.props.questionData,a=n.questionId;n.answers;t.props.onChangeContent(a,"answers",e.target.value)},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData,a=(n.questionId,n.question,n.options),s=(n.description,n.answers);return c.createElement("div",{className:t.root},c.createElement(r.default,{className:t.container,component:"fieldset",required:!s},c.createElement(i.default,{component:"legend"},"Please choice one"),c.createElement(u.default,{value:s,onChange:this.handleChange},a.map(function(e){return c.createElement(o.default,{key:e.id,className:t.item,value:e.text,control:c.createElement(l.default,null),label:e.text})}))))},t}(c.Component);t.default=s.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"}})(d)},264:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(27),o=n(2),i=n(13),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n){var a=t.props.questionData.questionId;t.props.onChangeContent(a,e,n.target.value)}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.classes,t=this.props.questionData,n=(t.question,t.description,t.answer);return o.createElement("div",{className:e.root},o.createElement(r.default,{label:"Answer",placeholder:"Please type in your answer",multiline:!0,rows:3,rowsMax:6,fullWidth:!0,value:n,onChange:this.handleChange("answer")}))},t}(o.Component);t.default=i.withStyles({root:{margin:"0 10% 5%"}})(l)},265:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(13),o=n(2),i=n(27),l=n(36),u=n(18),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n){var r,o=t.props.questionData,i=o.questionId,l=o.answers;o.options;t.props.onChangeContent(i,"answers",a.__assign({},l,((r={})[e]=n.target.value,r)))}},t.findDuplicate=function(){var e=t.props.questionData.answers,n=Object.values(e);return n.some(function(e,t){return n.indexOf(e)!==t})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=t.questionData,r=(a.questionId,a.question,a.options),s=(a.description,a.answers),c=r.map(function(e){return e.key});return o.createElement("div",{className:n.root},r.map(function(e,t){return o.createElement(u.default,{key:e.id},e.key," - ",e.text)}),r.map(function(t,n){return o.createElement(i.default,{key:t.id,select:!0,value:s["priority"+(n+1)],onChange:e.handleChange("priority"+(n+1)),margin:"normal",style:{width:90},helperText:n+1+" priority"},c.map(function(e){return o.createElement(l.default,{key:e,value:e},e)}))}),this.findDuplicate()&&o.createElement(u.default,{color:"error"},"Please only select each option once *"))},t}(o.Component);t.default=r.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%",width:"100%"}})(s)},266:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(86),o=n(46),i=n(13),l=n(2),u=n(63),s=n(62),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e){return function(n,r){var o=t.props.questionData,i=o.questionId,l=o.answers;t.props.onChangeContent(i,"answers",r?a.__spread(l,[e]):l.filter(function(t){return t!==e}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=t.questionData,i=(a.questionId,a.question,a.options),c=(a.description,a.answers);return l.createElement("div",{className:n.root},l.createElement(u.default,{className:n.container,component:"fieldset",required:0===c.length},l.createElement(s.default,{component:"legend"},"Please check on applicable option"),i.map(function(t){return l.createElement(o.default,{key:t.id,className:n.item,control:l.createElement(r.default,{checked:c.includes(t.id),onChange:e.handleChange(t.id)}),label:t.text})})))},t}(l.Component);t.default=i.withStyles({root:{margin:"0 10% 5%"},container:{width:"100%"},item:{display:"flex",minHeight:48,marginLeft:"10%"}})(c)},267:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(64),o=n(13),i=n(2),l=n(266),u=n(265),s=n(264),c=n(263),d=n(262),p=n(18),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderType=function(){var e=t.props,n=e.questionData,r=e.onChangeContent;switch(n.questionType){case"text":return i.createElement(s.default,a.__assign({},{questionData:n,onChangeContent:r}));case"radio":return i.createElement(c.default,a.__assign({},{questionData:n,onChangeContent:r}));case"dropdown":return i.createElement(d.default,a.__assign({},{questionData:n,onChangeContent:r}));case"priority":var o=a.__assign({},n,{answers:n.options.reduce(function(e,t,n){return e["priority"+(n+1)]=t.key,e},{})});return console.log(o),i.createElement(u.default,a.__assign({},{questionData:o,onChangeContent:r}));default:return i.createElement(l.default,a.__assign({},{questionData:n,onChangeContent:r}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData;return i.createElement("div",{className:t.root},i.createElement(p.default,null,n.questionId),i.createElement(p.default,null,n.questionType),i.createElement(p.default,null,n.question),i.createElement(p.default,null,n.description),this.renderType(),i.createElement(r.default,{light:!0}))},t}(i.Component);t.default=o.withStyles({root:{margin:5}})(f)},268:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(25),o=n(13),i=n(2),l=n(237),u=n(22),s=n(18),c=n(91),d=n(27),p=n(56),f=n(87),m=n(267),h=c.DBSERVER.url,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={refId:"",title:"",description:"",firstName:"",lastName:"",email:"",phone:"",address:"",gender:"",contents:[],completed:!1},t.handleApiRequest=function(){return a.__awaiter(t,void 0,void 0,function(){var e,t,n,r,o,i;return a.__generator(this,function(a){switch(a.label){case 0:return e=this.props.match.params.formId,[4,l.default.get(h+"/survey/form/"+e)];case 1:return t=a.sent().data.data,n=t.title,r=t.description,o=t._id,i=t.contents,this.setState({title:n,description:r,contents:i,refId:o}),[2]}})})},t.handleChangeState=function(e,n){return function(a){var r;return t.setState(((r={})[e]=n||a.target.value,r))}},t.onChangeContent=function(e,n,r){return t.setState(function(t){return a.__assign({},t,{contents:t.contents.map(function(t){var o;return t.questionId===e?a.__assign({},t,((o={})[n]=r,o)):t})})})},t.renderQuestion=function(){return t.state.contents.map(function(e){return i.createElement(m.default,{onChangeContent:t.onChangeContent,questionData:e,key:""+e.questionId})})},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.clientId||this.props.match.params.formId&&this.handleApiRequest()},t.prototype.renderSurvey=function(){var e=this.props.classes,t=this.state,n=t.title,a=t.description,o=t.firstName,l=t.lastName,u=t.email,c=t.phone,p=t.address,f=t.gender,m=t.contents;return console.log(m),i.createElement("div",null,i.createElement(s.default,null,n),i.createElement(s.default,null,a),i.createElement("div",{className:e.userInfos},i.createElement(d.default,{placeholder:"First Name",value:o,onChange:this.handleChangeState("firstName")}),i.createElement(d.default,{placeholder:"Last Name",value:l,onChange:this.handleChangeState("lastName")}),i.createElement(d.default,{placeholder:"Email",value:u,onChange:this.handleChangeState("email")}),i.createElement(d.default,{placeholder:"Phone",value:c,onChange:this.handleChangeState("phone")}),i.createElement(d.default,{placeholder:"Address",value:p,onChange:this.handleChangeState("address")}),i.createElement(d.default,{placeholder:"Gender",value:f,onChange:this.handleChangeState("gender")})),this.renderQuestion(),i.createElement("div",null),i.createElement("div",{className:e.button},i.createElement(r.default,null,"Submit")))},t.prototype.render=function(){var e=this.props.classes,t=this.state.title;return i.createElement(u.default,{className:e.root},0===t.length?i.createElement(p.default,{in:0===t.length,style:{transitionDelay:0===t.length?"500ms":"0ms"},unmountOnExit:!0},i.createElement(f.default,{size:100})):this.renderSurvey())},t}(i.Component);t.default=o.withStyles({root:{display:"flex",justifyContent:"center",margin:"0 10vw"},userInfos:{},button:{display:"flex",justifyContent:"flex-end"}})(v)},301:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(31),o=n(76),i=n(22),l=n(13),u=n(300),s=n(299),c=n(298),d=n(297),p=n(296),f=n(2),m=n(29),h=n(34),v=n(101),g=n(91),E=n(25),_=n(67),y=n(66),C=n(65);u.default,s.default,d.default,p.default,c.default;var S=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={dialogType:""},t.handleState=function(e,n){return void 0===n&&(n=""),function(){var a;return t.setState(((a={})[e]=n,a))}},t.handleAction=function(e){return function(){switch(e){case"submit":t.props.saveFormToDb("submit"===e);case"save":t.props.saveFormToDb("submit"===e);break;default:return t.props.addQuestion(g.createTemplate())}return t.setState({dialogType:""})}},t.renderDialog=function(){var e=t.state.dialogType;return f.createElement(_.default,{open:["save","submit"].includes(e),onClose:t.handleState("dialogType")},f.createElement(C.default,null,"Are you sure you want to "+e+" this survey?"),f.createElement(y.default,null,f.createElement(E.default,{color:"primary",onClick:t.handleState("dialogType")},"Cancel"),f.createElement(E.default,{variant:"raised",color:"secondary",onClick:t.handleAction(e)},e)))},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props.classes;return f.createElement(i.default,{elevation:4,className:e.root},f.createElement(o.default,{className:e.column},f.createElement(v.default,{title:"Add New Question",placement:"left"},f.createElement(r.default,{onClick:this.handleAction("add")},f.createElement(u.default,null))),f.createElement(v.default,{title:"Reserved",placement:"left"},f.createElement(r.default,null,f.createElement(s.default,null))),f.createElement(v.default,{title:"Temporary Save Survey",placement:"left"},f.createElement(r.default,{onClick:this.handleState("dialogType","save")},f.createElement(p.default,null))),f.createElement(v.default,{title:"Finish or Complete Survey",placement:"left"},f.createElement(r.default,{onClick:this.handleState("dialogType","submit")},f.createElement(c.default,null)))),this.renderDialog())},t}(f.Component),D={addQuestion:h.addQuestion,saveFormToDb:h.saveFormToDb};t.default=m.connect(null,D)(l.withStyles(function(e){return{root:{position:"fixed",top:"15vh",right:"5vw",width:"48px",marginRight:"5px"},column:{display:"flex",flexDirection:"column"},paper:{marginRight:2*e.spacing.unit},popperClose:{pointerEvents:"none"}}})(S))},302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(27),r=n(2),o=n(29),i=n(34),l=n(13),u=n(64),s={updateFormInfo:i.updateFormInfo};t.default=o.connect(function(e){return{title:e.formInfo.title,description:e.formInfo.description}},s)(l.withStyles({root:{margin:5},content:{padding:10,margin:"0 15vw 5px"}})(function(e){var t=e.classes,n=e.title,o=e.description,i=e.updateFormInfo;return r.createElement("div",{className:t.root},r.createElement("div",{className:t.content},r.createElement(a.default,{fullWidth:!0,placeholder:"Title",value:n,onChange:function(e){return i("title",e.target.value)}}),r.createElement(a.default,{fullWidth:!0,placeholder:"Description",value:o,onChange:function(e){return i("description",e.target.value)}})),r.createElement(u.default,{light:!0}))}))},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(27),o=n(2),i=n(29),l=n(34),u=n(13),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n){return function(a,r){var o=t.props.questionData.questionId;t.props.updateQuestion(o,e,n||a.target.value)}},t.renderFormCreate=function(){var e=t.props.classes,n=t.props.questionData,a=n.question,i=n.description;return o.createElement("div",{className:e.root},o.createElement(r.default,{label:"Question",placeholder:"Please type in question",multiline:!0,fullWidth:!0,value:a,onChange:t.handleChange("question")}),o.createElement(r.default,{label:"Description",placeholder:"Please type in description",multiline:!0,fullWidth:!0,value:i,onChange:t.handleChange("description")}))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(o.Component),c={updateQuestion:l.updateQuestion};t.default=i.connect(function(e){return{}},c)(u.withStyles({root:{margin:"0 10% 5%"}})(s))},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(46),o=n(25),i=n(27),l=n(160),u=n(31),s=n(159),c=n(2),d=n(29),p=n(34),f=n(13),m=n(36),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n,r){return void 0===e&&(e="text"),function(o,i){var l=t.props.questionData,u=l.questionId,s=l.options;switch(e){case"priority-add":return t.props.updateQuestion(u,"options",a.__spread(s,[{id:(Date.now()+1).toString(36),key:String.fromCharCode(65+s.length),text:""}]));case"priority-text":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{text:o.target.value}):e}));case"priority-key":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{key:o.target.value}):e}));case"remove":return t.props.updateQuestion(u,"options",s.filter(function(e){return e.id!==n}));default:return t.props.updateQuestion(u,n,r||o.target.value)}}},t.renderFormCreate=function(){var e=t.props,n=e.classes,a=(e.updateQuestion,e.questionData),d=(a.questionId,a.question),p=a.options,f=a.description;return c.createElement("div",{className:n.root},c.createElement(i.default,{label:"Question",placeholder:"Priority question",multiline:!0,fullWidth:!0,value:d,onChange:t.handleChange("text","question")}),c.createElement(i.default,{label:"Description",placeholder:"Extra Description",multiline:!0,fullWidth:!0,value:f,onChange:t.handleChange("text","description")}),c.createElement("div",null,p.map(function(e){return c.createElement("div",{className:n.checkContainer,key:e.id},c.createElement(r.default,{classes:{label:n.label},control:c.createElement(i.default,{select:!0,onChange:t.handleChange("priority-key",e.id),value:e.key},p.map(function(e,t){return c.createElement(m.default,{key:e.id,value:String.fromCharCode(65+t)},String.fromCharCode(65+t))})),label:c.createElement(i.default,{fullWidth:!0,placeholder:"Enter a response here.",multiline:!0,value:e.text,onChange:t.handleChange("priority-text",e.id)})}),p.length>1&&c.createElement(u.default,{onClick:t.handleChange("remove",e.id)},c.createElement(s.default,null)))})),c.createElement(o.default,{variant:"fab",className:n.addButton,mini:!0,color:"secondary",onClick:t.handleChange("priority-add")},c.createElement(l.default,null)))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(c.Component),v={updateQuestion:p.updateQuestion};t.default=d.connect(function(e){return{}},v)(f.withStyles({root:{margin:"0 10% 5%"},checkContainer:{display:"flex",minHeight:48,paddingLeft:"10%"},keyText:{margin:"0 10px",fontWeight:"bold"},form:{width:"100%"},label:{width:"30vw"},addButton:{display:"flex",marginLeft:"auto",marginRight:0}})(h))},305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(25),o=n(86),i=n(46),l=n(31),u=n(13),s=n(27),c=n(160),d=n(159),p=n(2),f=n(29),m=n(34),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleChange=function(e,n,r){return function(o,i){var l=t.props.questionData,u=l.questionId,s=l.options;switch(e){case"checkbox-add":return t.props.updateQuestion(u,"options",a.__spread(s,[{id:(Date.now()+1).toString(36),correct:!1,text:""}]));case"checkbox-text":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{text:o.target.value}):e}));case"check":return t.props.updateQuestion(u,"options",s.map(function(e){return e.id===n?a.__assign({},e,{correct:i}):e}));case"remove":return t.props.updateQuestion(u,"options",s.filter(function(e){return e.id!==n}));default:return t.props.updateQuestion(u,n,r||o.target.value)}}},t.renderFormCreate=function(){var e=t.props,n=e.classes,a=(e.updateQuestion,e.questionData),u=(a.questionId,a.question),f=a.options,m=a.description;return p.createElement("div",{className:n.root},p.createElement(s.default,{label:"Question",placeholder:"Checkbox question",multiline:!0,fullWidth:!0,value:u,onChange:t.handleChange("text","question")}),p.createElement(s.default,{label:"Description",placeholder:"Extra Description",multiline:!0,fullWidth:!0,value:m,onChange:t.handleChange("text","description")}),p.createElement("div",null,f.map(function(e){return p.createElement("div",{className:n.checkContainer,key:e.id},p.createElement(i.default,{classes:{label:n.label},control:p.createElement(o.default,{checked:e.correct,onChange:t.handleChange("check",e.id)}),label:p.createElement(s.default,{fullWidth:!0,placeholder:"Enter a choice here.",multiline:!0,value:e.text,onChange:t.handleChange("checkbox-text",e.id)})}),f.length>1&&p.createElement(l.default,{onClick:t.handleChange("remove",e.id)},p.createElement(d.default,null)))})),p.createElement(r.default,{variant:"fab",className:n.addButton,mini:!0,color:"secondary",onClick:t.handleChange("checkbox-add")},p.createElement(c.default,null)))},t}return a.__extends(t,e),t.prototype.render=function(){return this.renderFormCreate()},t}(p.Component),v={updateQuestion:m.updateQuestion};t.default=f.connect(function(e){return{}},v)(u.withStyles({root:{margin:"0 10% 5%"},checkContainer:{display:"flex",minHeight:48,paddingLeft:"10%"},form:{width:"100%"},label:{width:"30vw"},addButton:{display:"flex",marginLeft:"auto",marginRight:0}})(h))},307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(25),o=n(67),i=n(66),l=n(65),u=n(64),s=n(31),c=n(36),d=n(13),p=n(27),f=n(306),m=n(2),h=n(29),v=n(34),g=n(91),E=n(305),_=n(304),y=n(303),C={text:"Text Question",checkbox:"Checkbox Question",radio:"Radio Question",dropdown:"Dropdown Question",priority:"Priority Question",multipleDropdown:"Multiple Dropdown Question"},S=Object.keys(C),D=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isDialogOpen:!1},t.toggleDeleteDialog=function(){t.setState(function(e){return{isDialogOpen:!e.isDialogOpen}})},t.handleChangeQuestionType=function(e){var n=t.props.questionData.questionId,a=g.createTemplate(e.target.value,n);t.props.replaceQuestion(n,a)},t.handleRemoveQuestion=function(){var e=t.props.questionData.questionId;t.props.removeQuestion(e),t.setState({isDialogOpen:!1})},t.renderDeleteDialog=function(e){var n=t.state.isDialogOpen;return m.createElement(o.default,{open:n,onClose:t.toggleDeleteDialog},m.createElement(l.default,null,"Are you sure you want to delete this question?"),m.createElement(i.default,null,m.createElement(r.default,{color:"primary",onClick:t.toggleDeleteDialog},"Cancel"),m.createElement(r.default,{variant:"raised",color:"secondary",onClick:t.handleRemoveQuestion},"Delete")))},t.renderQuestion=function(){var e=t.props.questionData;switch(e.questionType){case"text":return m.createElement(y.default,a.__assign({},{questionData:e}));case"priority":return m.createElement(_.default,a.__assign({},{questionData:e}));default:return m.createElement(E.default,a.__assign({},{questionData:e}))}},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.questionData;this.state.isDialogOpen;return m.createElement("div",{className:t.root},m.createElement(p.default,{select:!0,className:t.questionSelection,onChange:this.handleChangeQuestionType,value:n.questionType},S.map(function(e){return m.createElement(c.default,{key:e,value:e},C[e])})),m.createElement(s.default,{className:t.clearIcon,onClick:this.toggleDeleteDialog},m.createElement(f.default,null)),this.renderQuestion(),this.renderDeleteDialog(n.questionId),m.createElement(u.default,{light:!0}))},t}(m.Component),T={removeQuestion:v.removeQuestion,replaceQuestion:v.replaceQuestion};t.default=h.connect(null,T)(d.withStyles({root:{margin:5},questionSelection:{marginTop:5,marginLeft:"25%",width:"50%"},clearIcon:{float:"right"}})(D))},308:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(25),o=n(67),i=n(66),l=n(65),u=n(13),s=n(102),c=n(103),d=n(2),p=n(29),f=n(307),m=n(302),h=n(34),v=n(301),g=n(22),E=n(295),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={activeTab:0,isDialogOpen:!1,isSubmitting:!1,isPreview:!1},t.handleUpdateState=function(e,n){return function(){var a;return t.setState(((a={})[e]=n,a))}},t.handleSave=function(e){return function(){t.props.saveFormToDb("submit"===e),t.handleUpdateState("isDialogOpen",!1)}},t.handleSubmit=function(){t.setState({isSubmitting:!0,isDialogOpen:!0})},t.renderQuestion=function(){return t.props.formQuestions.map(function(e){return d.createElement(f.default,{questionData:e,key:""+e.questionId})})},t.renderDialog=function(e){return d.createElement(o.default,{open:e,onClose:t.handleUpdateState("isDialogOpen",!1)},d.createElement(l.default,null,"Are you sure you want to "+(t.state.isSubmitting?"submit":"create")+" this survey?"),d.createElement(i.default,null,d.createElement(r.default,{color:"primary",onClick:t.handleUpdateState("isDialogOpen",!1)},"Cancel"),t.state.isSubmitting?d.createElement(r.default,{color:"secondary",onClick:t.handleSave("submit")},"Submit"):d.createElement(r.default,{color:"secondary",onClick:t.handleSave("save")},"Save")))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.match.params.activeId&&("create"===this.props.match.params.activeId&&this.props.createNewForm(),this.props.getFormDataById(this.props.match.params.activeId))},t.prototype.render=function(){var e=this,t=this.props,n=t.classes,a=(t.submitStatus,t.currentPosition,this.state),r=a.isDialogOpen,o=a.activeTab;return d.createElement(g.default,{className:n.root},this.renderDialog(r),d.createElement(c.default,{value:o,onChange:function(t,n){return e.handleUpdateState("activeTab",n)()},indicatorColor:"primary",textColor:"primary",centered:!0},d.createElement(s.default,{label:"Survey Form"})),d.createElement(E.default,{index:o,onChangeIndex:function(t){return e.handleUpdateState("activeTab",t)()}},d.createElement(d.Fragment,null,d.createElement(m.default,null),this.renderQuestion())),d.createElement(v.default,null))},t}(d.Component),y={createNewForm:h.createNewForm,saveFormToDb:h.saveFormToDb,getFormDataById:h.getFormDataById};t.default=p.connect(function(e){return{formQuestions:e.formQuestions,submitStatus:e.stateStatus.submitStatus,currentPosition:e.stateStatus.currentPosition}},y)(u.withStyles({root:{margin:"0 10vw"}})(_))},310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(2),o=n(13),i=n(29),l=n(100),u=n(34),s=n(139),c=n(74),d=n(18),p=n(31),f=n(309),m=n(36),h=n(113),v=n(109),g=function(e){return r.createElement(l.Link,a.__assign({},e,{to:"/"}))},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={anchorEl:null},t.handleChange=function(e,n){t.setState({auth:n})},t.handleMenu=function(e){t.setState({anchorEl:e.currentTarget})},t.handleClose=function(){t.setState({anchorEl:null})},t.handleSnackbar=function(e,n){return function(){return t.props.updateStateStatus(e,n)}},t.renderSnackBar=function(){var e=t.props.statusText;return r.createElement(v.default,{key:parseInt(e,10),anchorOrigin:{vertical:"top",horizontal:"center"},open:Boolean(e),autoHideDuration:2500,onClose:t.handleSnackbar("statusText",""),message:r.createElement("span",{id:"message-id"},e)})},t}return a.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.classes,n=e.brandName,a=this.state.anchorEl,o=Boolean(a);return r.createElement(r.Fragment,null,r.createElement(s.default,{position:"static",className:t.root},r.createElement(c.default,null,r.createElement(d.default,{component:g,variant:"title",color:"inherit",className:t.flex},n),r.createElement("div",null,r.createElement(p.default,{onClick:this.handleMenu,color:"inherit"},r.createElement(f.default,null)),r.createElement(h.default,{anchorEl:a,open:o,onClose:this.handleClose},r.createElement(m.default,{onClick:this.handleClose},"Profile"),r.createElement(m.default,{onClick:this.handleClose},"My account"))))),this.renderSnackBar())},t}(r.Component),_={setSearchTerm:u.setSearchTerm,updateStateStatus:u.updateStateStatus};t.default=i.connect(function(e){return{searchTerm:e.searchTerm,brandName:e.brandName,surveyData:e.surveyData,statusText:e.stateStatus.statusText}},_)(o.withStyles({root:{flexGrow:1,marginBottom:5},flex:{flex:1},menuButton:{marginLeft:-12,marginRight:20}})(E))},311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(229),o=n(18),i=n(13);t.default=i.withStyles({root:{marginTop:5,marginBottom:15},formDiv:{display:"flex",justifyContent:"center"}})(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(o.default,{gutterBottom:!0,variant:"display2",align:"center"},"Create New Form"),a.createElement("div",{className:t.formDiv},a.createElement(r.default,{linkTo:"/survey/create"})))})},34:function(e,t,n){"use strict";var a=this;Object.defineProperty(t,"__esModule",{value:!0});var r=n(19),o=n(237),i=n(91),l=n(230);t.setSearchTerm=function(e){return{searchTerm:e,type:l.SET_SEARCH_TERM}},t.updateStateStatus=function(e,t){return{key:e,value:t,type:l.UPDATE_STATE_STATUS}},t.createNewForm=function(){return{type:"CREATE_NEW_FORM"}},t.updateFormInfo=function(e,t){return{infoKey:e,value:t,type:l.UPDATE_FORM_INFO}},t.addQuestion=function(e,t){return void 0===t&&(t=null),{template:e,position:t,type:l.ADD_QUESTION}},t.removeQuestion=function(e){return{questionId:e,type:l.REMOVE_QUESTION}},t.updateQuestion=function(e,t,n){return{questionId:e,questionKey:t,value:n,type:l.UPDATE_QUESTION}},t.replaceQuestion=function(e,t){return{questionId:e,template:t,type:"REPLACE_QUESTION"}};var u=i.DBSERVER.url;t.fetchRecentForms=function(e){return void 0===e&&(e="Daniel"),function(e,n){return r.__awaiter(a,void 0,void 0,function(){var a,i,s;return r.__generator(this,function(r){switch(r.label){case 0:return[4,o.default.get(u+"/survey/recent")];case 1:return a=r.sent().data,i=a.data,s=a.message,JSON.stringify(n().recentForms).length===JSON.stringify(i).length?[2]:(e({recentForms:i,type:l.FETCH_RECENT_FORMS}),e(t.updateStateStatus("statusText",s)),[2])}})})}},t.getFormDataById=function(e){return function(n){return r.__awaiter(a,void 0,void 0,function(){var a,i,s,c;return r.__generator(this,function(d){switch(d.label){case 0:return[4,o.default.get(u+"/survey/form/"+e)];case 1:return(a=d.sent().data).data&&(i=a.data,s=i.contents,c=r.__rest(i,["contents"]),n({contents:s,formInfo:c,type:l.FETCH_FORM_DATA_BY_ID})),n(t.updateStateStatus("statusText",a.message)),[2]}})})}},t.saveFormToDb=function(e){return function(n,i){return r.__awaiter(a,void 0,void 0,function(){var a,s,c,d,p,f,m,h;return r.__generator(this,function(v){switch(v.label){case 0:return a=i().formQuestions,s=i().formInfo,c=s._id,d=r.__rest(s,["_id"]),p=r.__assign({},d,{contents:a,completed:e}),[4,c?o.default.put(u+"/survey/form/"+c,p):o.default.post(u+"/survey",p)];case 1:return f=v.sent().data,m=f.data,(h=f.message)&&(n({formId:m,type:l.SAVE_FORM_BY_ID}),n(t.updateStateStatus("statusText",h))),[2]}})})}}},508:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19);Date.now().toString(36),Date.now().toString(36),(Date.now()+1).toString(36);t.createTemplate=function(e,t){void 0===e&&(e="checkbox"),void 0===t&&(t=Date.now().toString(36));var n={questionId:t,questionType:e,question:"",description:"",answers:""},r=[{id:(Date.now()+1).toString(36),correct:!1,text:""}],o=[{id:(Date.now()+1).toString(36),key:"A",text:""}];switch(e){case"text":return a.__assign({},n);case"checkbox":return a.__assign({},n,{answers:[],options:r,maxChoice:r.length});case"priority":return a.__assign({},n,{answers:{},options:o});default:return a.__assign({},n,{options:r})}}},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(19),r=n(2),o=n(29),i=n(34),l=n(229),u=n(18),s=n(87),c=n(56),d=n(140),p=n(485),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderTemplate=function(){var e=t.props,n=e.classes,a=e.recentForms;return r.createElement(d.default,{container:!0,spacing:8,className:n.gridContainter},0===a.length?r.createElement(c.default,{in:0===a.length,style:{transitionDelay:0===a.length?"500ms":"0ms"},unmountOnExit:!0},r.createElement(s.default,{size:100})):a.map(function(e){return r.createElement(d.default,{item:!0,key:e.id,className:n.gridItem,md:3,xl:4},r.createElement(l.default,{linkTo:e.completed?"/client-survey/render/"+e.id:"/survey/"+e.id,meta:e}))}))},t}return a.__extends(t,e),t.prototype.componentDidMount=function(){this.props.fetchRecentForms()},t.prototype.render=function(){return r.createElement("div",null,r.createElement(u.default,{gutterBottom:!0,align:"center",variant:"display2"},"Your recent forms"),this.renderTemplate())},t}(r.Component),m={fetchRecentForms:i.fetchRecentForms};t.default=o.connect(function(e){return{recentForms:e.recentForms}},m)(p.withStyles({gridContainter:{display:"flex",padding:5,justifyContent:"center"},gridItem:{display:"flex",justifyContent:"center"}})(f))},528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(527),o=n(311),i=n(13);t.default=i.withStyles({root:{margin:"0 5vw"}})(function(e){var t=e.classes;return a.createElement("div",{className:t.root},a.createElement(o.default,null),a.createElement(r.default,null))})},529:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2);t.default=function(){return a.createElement("h1",{style:{textAlign:"center"}},"404! :D:D")}},574:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(13),r=n(2),o=n(100),i=n(529),l=n(528),u=n(310),s=n(308),c=n(284),d=n(268),p=a.createMuiTheme({}),f=function(){return r.createElement(r.Fragment,null,r.createElement(u.default,null),r.createElement(c.default,{style:{height:"calc(100vh - 90px)"}},r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:"/",component:l.default}),r.createElement(o.Route,{path:"/survey/:activeId",component:s.default}),r.createElement(o.Route,{component:i.default}))))};t.App=function(){return r.createElement(o.BrowserRouter,null,r.createElement(a.MuiThemeProvider,{theme:p},r.createElement(o.Switch,null,r.createElement(o.Route,{exact:!0,path:"/client-survey/render/:formId",component:d.default}),r.createElement(o.Route,{component:f}))))}},578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),r=n(29),o=n(574);t.default=function(e){var t=e.store;return a.createElement(r.Provider,{store:t},a.createElement(o.App,null))}},586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,r=n(2),o=n(24),i=n(578),l=n(261),u=(n(156),l.default());a=i.default,o.render(r.createElement(a,{store:u}),document.getElementById("app"))},587:function(e,t,n){n(586),e.exports=n(259)},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(508);t.createTemplate=a.createTemplate;var r={url:"https://survey-middleware.herokuapp.com"};t.DBSERVER=r}});